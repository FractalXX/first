<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<link rel="stylesheet" type="text/css" href="rocket.css">
    <title>Hello World!</title>

       <script type="text/javascript">
			
			var width = window.innerWidth
			|| document.documentElement.clientWidth
			|| document.body.clientWidth;

			var height = window.innerHeight
			|| document.documentElement.clientHeight
			|| document.body.clientHeight;	

			window.addEventListener("keydown", keyPressed, false);
			window.addEventListener("keyup", keyReleased, false);			

            function leftArrowPressed() {
                var element = document.getElementById("rocket");
				if(getOffset(element).left <= 0) return;
                element.style.left = parseInt(element.style.left) - 5 + 'px';
            }

            function rightArrowPressed() {
                var element = document.getElementById("rocket");
				var rect = element.getBoundingClientRect();
				if(getOffset(element).left + rect.width >= width) return;
                element.style.left = parseInt(element.style.left) + 5 + 'px';
            }

            function upArrowPressed() {
                var element = document.getElementById("rocket");
				if(getOffset(element).top <= 0) return;
                element.style.top = parseInt(element.style.top) - 5 + 'px';
            }

            function downArrowPressed() {
                var element = document.getElementById("rocket");
				var rect = element.getBoundingClientRect();
				if(getOffset(element).top + rect.height >= height) return;
                element.style.top = parseInt(element.style.top) + 5 + 'px';
            }
			
			var map = [];

			function keyPressed(e) {
				map[e.keyCode] = true;
				if (map[37]) leftArrowPressed();
				if (map[39]) rightArrowPressed();
				if (map[38]) upArrowPressed();
				if (map[40]) downArrowPressed();
			}
			
			function keysReleased(e) {
				map[e.keyCode] = false;
			}
			
			/*
			$(document).keydown(function(e) {
				if (e.keyCode in map) {
					map[e.keyCode] = true;
					if (map[37]) leftArrowPressed();
					if (map[39]) rightArrowPressed();
					if (map[38]) upArrowPressed();
					if (map[40]) downArrowPressed();
				}
			}).keyup(function(e) {
				if (e.keyCode in map) {
					map[e.keyCode] = false;
				}
			});*/
			
			function getOffset(el) {
				el = el.getBoundingClientRect();
				return {
					left: el.left + window.scrollX,
					top: el.top + window.scrollY
				}
			}

			function gameLoop()
			{
				setTimeout("gameLoop()",1);
			}

  </script>
  </head>

  <body onload="gameLoop()" onkeydown="keyPressed(event)" onkeyup="keyReleased(event)" bgcolor='white'>
  <img id="rocket" src="../rocket.png" style="position: absolute; left: 500; right: 500; top: 500; bottom: auto; " height="50" width="50" class="rotate45">
  </body>
</html>